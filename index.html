<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Playlist do Multiverso Shrek</title>
  <style>
    
    /* Tema padr√£o (Shrek Light) */
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f0f0f0;
      color: #000;
      transition: background-color 0.3s, color 0.3s;
    }

    .dark-mode {
      background-color: #1e1e1e;
      color: #dcdcdc;
    }

    h1 {
      text-align: center;
    }

    .controls {
      text-align: center;
      margin-bottom: 20px;
    }

    .controls button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background-color: #2196f3;
      color: white;
      border: none;
      border-radius: 6px;
    }

    .playlist {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .playlist-label {
      width: 120px;
      font-weight: bold;
    }

    .playlist-slot {
      flex: 1;
      min-height: 60px;
      background-color: white;
      border: 2px dashed #ccc;
      padding: 10px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .dark-mode .playlist-slot {
      background-color: #2b2b2b;
      border-color: #555;
    }

    .track {
      width: 60px;
      height: 60px;
      cursor: grab;
      border-radius: 8px;
      overflow: hidden;
      border: 2px solid #4caf50;
      background-color: white;
    }

    .dark-mode .track {
      background-color: #444;
    }

    .track img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* üîÅ Bot√£o modo escuro/claro */
    .theme-toggle {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1000;
      padding: 8px 12px;
      background-color: #4caf50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <!--contador flexivel-->
  <h1>"contador" <spam id="contador">0</spam></h1>
  <button onclick="modificarContador('a')">almentar</button>

  <script> let contador = 0; function modificarContador(acao)
    if (acao == 'a') 
   (contador++;)
   else if (acao === 'd')
    (contador--;)
  document.getElementById('contador').innerText = contador;</script>

  <!-- üîò Bot√£o de altern√¢ncia de tema -->
  <button class="theme-toggle" onclick="toggleTheme()">Shrek Dark</button>

  <h1>Playlist do Multiverso Shrek üéµ</h1>

  <div class="controls">
    <button onclick="resetPlaylist()">Resetar Playlist</button>
  </div>

  <div id="playlists-container"></div>

  <h2>Faixas Dispon√≠veis</h2>
  <div id="tracks-container" class="playlist-slot"></div>

  <script>
    const playlistLabels = ['Favoritas', 'Chill', 'Festa', 'Triste', 'Aleat√≥rias'];

    const tracks = [
      'Shrek Love Song', 'Shrek Funk Remix', 'Shrek Emo Ballad', 'Shrek Sertanejo Raiz',
      'Shrek Trap', 'Shrek Ax√©', 'Shrek Gospel', 'Shrek Pagode', 'Shrek MPB',
      'Shrek Rock Nacional', 'Shrek Medita√ß√£o', 'Shrek Techno', 'Shrek Eletr√¥nica',
      'Shrek Forr√≥ das Antigas', 'Shrek no Samba', 'Shrek Boate Azul',
      'Shrek Lofi Beats', 'Shrek Internacional', 'Shrek Ac√∫stico MTV', 'Shrek do Grau Musical'
    ];

    function getImageUrl(name) {
      const cleanText = name.normalize('NFD')
        .replace(/[\u0300-\u036f]/g, '')
        .replace(/[^a-zA-Z0-9 ]/g, '')
        .trim().replace(/\s+/g, '+');
      return `https://dummyimage.com/150x150/87ceeb/000000&text=${cleanText}`;
    }

    function loadPlaylist() {
      const data = localStorage.getItem('shrekPlaylist');
      return data ? JSON.parse(data) : {
        tracks: [...tracks],
        playlists: Object.fromEntries(playlistLabels.map(label => [label, []]))
      };
    }

    function savePlaylist(data) {
      localStorage.setItem('shrekPlaylist', JSON.stringify(data));
    }

    function resetPlaylist() {
      localStorage.removeItem('shrekPlaylist');
      render();
    }

    function render() {
      const data = loadPlaylist();
      const playlistsContainer = document.getElementById('playlists-container');
      playlistsContainer.innerHTML = '';

      for (const label of playlistLabels) {
        const playlistDiv = document.createElement('div');
        playlistDiv.className = 'playlist';

        const labelDiv = document.createElement('div');
        labelDiv.className = 'playlist-label';
        labelDiv.textContent = label;

        const slotDiv = document.createElement('div');
        slotDiv.className = 'playlist-slot';
        slotDiv.dataset.playlist = label;

        slotDiv.addEventListener('dragover', e => e.preventDefault());
        slotDiv.addEventListener('drop', handleDrop);

        for (const track of data.playlists[label]) {
          const trackDiv = createTrackDiv(track);
          slotDiv.appendChild(trackDiv);
        }

        playlistDiv.appendChild(labelDiv);
        playlistDiv.appendChild(slotDiv);
        playlistsContainer.appendChild(playlistDiv);
      }

      const tracksContainer = document.getElementById('tracks-container');
      tracksContainer.innerHTML = '';
      tracksContainer.dataset.playlist = 'tracks';
      tracksContainer.addEventListener('dragover', e => e.preventDefault());
      tracksContainer.addEventListener('drop', handleDrop);

      for (const track of data.tracks) {
        const trackDiv = createTrackDiv(track);
        tracksContainer.appendChild(trackDiv);
      }
    }

    function createTrackDiv(name) {
      const div = document.createElement('div');
      div.className = 'track';
      div.draggable = true;

      const img = document.createElement('img');
      img.src = getImageUrl(name);
      img.alt = name;

      div.appendChild(img);
      div.addEventListener('dragstart', e => {
        e.dataTransfer.setData('text/plain', name);
      });

      return div;
    }

    function handleDrop(e) {
      e.preventDefault();
      const trackName = e.dataTransfer.getData('text/plain');
      const targetPlaylist = e.currentTarget.dataset.playlist;
      const data = loadPlaylist();

      data.tracks = data.tracks.filter(t => t !== trackName);
      for (const p of playlistLabels) {
        data.playlists[p] = data.playlists[p].filter(t => t !== trackName);
      }

      if (targetPlaylist === 'tracks') {
        data.tracks.push(trackName);
      } else {
        data.playlists[targetPlaylist].push(trackName);
      }

      savePlaylist(data);
      render();
    }

    // üåó Altern√¢ncia de tema
    function toggleTheme() {
      const body = document.body;
      const button = document.querySelector('.theme-toggle');
      const isDark = body.classList.toggle('dark-mode');
      localStorage.setItem('shrekTheme', isDark ? 'dark' : 'light');
      button.textContent = isDark ? 'Shrek Light' : 'Shrek Dark';
    }

    // üöÄ Ao carregar, define tema salvo
    (function () {
      const savedTheme = localStorage.getItem('shrekTheme');
      if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
        document.querySelector('.theme-toggle').textContent = 'Shrek Light';
      }
      render();
    })();
  </script>
</body>
</html>
